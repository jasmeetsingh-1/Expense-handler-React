{"ast":null,"code":"import _toConsumableArray from\"D:/Expense-handler-React/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/Expense-handler-React/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"D:/Expense-handler-React/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import Header from\"./components/Header\";import\"./styles.css\";import ExpenseHolder from\"./components/ExpenseHolder\";import NewExpense from\"./components/newExpenses/NewExpense\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var dummyYearArray=[\"2022\",\"2021\",\"2020\",\"2019\"];export default function App(){var dispatch=useDispatch();var state=useSelector(function(state){return state;});var expenseArray=Object.values(state).map(function(item){return _objectSpread(_objectSpread({},item),{},{date:new Date(item.date)});});var _useState=useState(dummyYearArray),_useState2=_slicedToArray(_useState,2),yearArray=_useState2[0],setYearArray=_useState2[1];var yearCheck=useCallback(function(yearEntered){return!yearArray.includes(yearEntered);},[yearArray]);function addExpenseHandler(expense){var dateYear=expense.date.getFullYear().toString();if(yearCheck(dateYear)){setYearArray(function(prevYearState){return[].concat(_toConsumableArray(prevYearState),[dateYear]);});}dispatch({type:\"add\",data:expense});}useEffect(function(){var yearsToAdd=expenseArray.map(function(item){if(yearCheck(item.date.getFullYear().toString())){return item.date.getFullYear().toString();}return null;// Ensure a value is returned in all cases\n});yearsToAdd.forEach(function(item){if(item){if(yearCheck(item)){setYearArray(function(prevYearState){return[].concat(_toConsumableArray(prevYearState),[item]);});}}});},[expenseArray,yearCheck]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{children:\"Expense Handler\"}),/*#__PURE__*/_jsx(NewExpense,{onAddExpenses:addExpenseHandler}),/*#__PURE__*/_jsx(ExpenseHolder,{yearsList:yearArray,items:expenseArray})]});}","map":{"version":3,"names":["React","useState","useEffect","useCallback","useDispatch","useSelector","Header","ExpenseHolder","NewExpense","jsx","_jsx","jsxs","_jsxs","dummyYearArray","App","dispatch","state","expenseArray","Object","values","map","item","_objectSpread","date","Date","_useState","_useState2","_slicedToArray","yearArray","setYearArray","yearCheck","yearEntered","includes","addExpenseHandler","expense","dateYear","getFullYear","toString","prevYearState","concat","_toConsumableArray","type","data","yearsToAdd","forEach","className","children","onAddExpenses","yearsList","items"],"sources":["D:/Expense-handler-React/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport Header from \"./components/Header\";\r\nimport \"./styles.css\";\r\nimport ExpenseHolder from \"./components/ExpenseHolder\";\r\nimport NewExpense from \"./components/newExpenses/NewExpense\";\r\n\r\nlet dummyYearArray = [\"2022\", \"2021\", \"2020\", \"2019\"];\r\n\r\nexport default function App() {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector((state) => state);\r\n\r\n  const expenseArray = Object.values(state).map((item) => {\r\n    return { ...item, date: new Date(item.date) };\r\n  });\r\n\r\n  const [yearArray, setYearArray] = useState(dummyYearArray);\r\n\r\n  const yearCheck = useCallback(\r\n    (yearEntered) => {\r\n      return !yearArray.includes(yearEntered);\r\n    },\r\n    [yearArray]\r\n  );\r\n\r\n  function addExpenseHandler(expense) {\r\n    let dateYear = expense.date.getFullYear().toString();\r\n    if (yearCheck(dateYear)) {\r\n      setYearArray((prevYearState) => {\r\n        return [...prevYearState, dateYear];\r\n      });\r\n    }\r\n\r\n    dispatch({ type: \"add\", data: expense });\r\n  }\r\n\r\n  useEffect(() => {\r\n    const yearsToAdd = expenseArray.map((item) => {\r\n      if (yearCheck(item.date.getFullYear().toString())) {\r\n        return item.date.getFullYear().toString();\r\n      }\r\n      return null; // Ensure a value is returned in all cases\r\n    });\r\n\r\n    yearsToAdd.forEach((item) => {\r\n      if (item) {\r\n        if (yearCheck(item)) {\r\n          setYearArray((prevYearState) => {\r\n            return [...prevYearState, item];\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }, [expenseArray, yearCheck]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Header>Expense Handler</Header>\r\n      <NewExpense onAddExpenses={addExpenseHandler} />\r\n      <ExpenseHolder yearsList={yearArray} items={expenseArray} />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}